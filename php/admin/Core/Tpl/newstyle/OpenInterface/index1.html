<include file="./Core/Tpl/metro/Public/header.html" />

<!-- BEGIN PAGE LEVEL STYLES --> 
	<link href="__ROOT__/Static/metro/media/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>
	<link href="__ROOT__/Static/metro/media/css/daterangepicker.css" rel="stylesheet" type="text/css" />
	<link href="__ROOT__/Static/metro/media/css/fullcalendar.css" rel="stylesheet" type="text/css"/>
	<link href="__ROOT__/Static/metro/media/css/jqvmap.css" rel="stylesheet" type="text/css" media="screen"/>
	<link href="__ROOT__/Static/metro/media/css/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>
		<link rel="stylesheet" type="text/css" href="__ROOT__/Static/metro/media/css/bootstrap-toggle-buttons.css"/>
<!-- END PAGE LEVEL STYLES -->	

</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="page-header-fixed">
	<include file="./Core/Tpl/metro/Public/top.html" />
	<!-- BEGIN CONTAINER -->
	<div class="page-container row-fluid">
		<include file="./Core/Tpl/metro/Public/menu.html" />
		<!-- BEGIN PAGE -->
		<div class="page-content">
			<!-- BEGIN PAGE CONTAINER-->
			<div class="container-fluid">
				<!-- BEGIN PAGE HEADER-->
				<div class="row-fluid">
					<div class="span12">
						  
						<!-- BEGIN PAGE TITLE & BREADCRUMB-->
						<h3 class="page-title"></h3>
						<ul class="breadcrumb">

							<li>
								<a href="#">开发平台管理</a>
								<i class="icon-angle-right"></i>
							</li>
							<li>
								<a href="#">接口在线测试</a>
								<i class="icon-angle-right"></i>
							</li>
							
						</ul>
						<!-- END PAGE TITLE & BREADCRUMB-->
					</div>
				</div>
				<!-- END PAGE HEADER-->
				<!-- BEGIN PAGE CONTENT-->
				<div class="row-fluid">
					<div class="span12">
						<!-- BEGIN VALIDATION STATES-->
						<div class="portlet box light-grey">
							<div class="portlet-title">
								<div class="caption"><i class="icon-reorder"></i>接口在线测试</div>
							</div>
							<div class="portlet-body form">
									提示：用户测试账号:vinterface@163.com  密码:123456<br/>
									测试主域名:<input type="text" id="testdoim" value="{$domain}">app_key:<input type="text" id="app_key" value="{$app_key}">app_secret:<input type="text" id="app_secret" value="{$app_secret}">&nbsp;&nbsp;<a href="javascript:;;" class="btn green" onclick="setTimingParam1()">保存设置</a><br/>
									提示:测试用的device_sn:device13878482471  device_key:123456    ep_id:ep13878540101   dp_id:1 <br/>
									<textarea id="testallresult" rows = "25" name="testallresult" style="width:98%">
									</textarea>
									<a href="javascript:;;" class="btn green" onclick="testAllInterface()">测试所有</a><br/>
									<input id="checkAll" name="checkAll" type="checkbox" style="vertical-align:top;" checked />&nbsp;全选&nbsp;&nbsp;
									<input id="checkNone" name="checkNone" type="checkbox" style="vertical-align:top;" />全不选
								<input type="hidden" id="testurl" value="__APP__/OpenInterface/test">
								<input type="hidden" id="seturl" value="__APP__/OpenInterface/setParam">
								<input type="hidden" id="seturll" value="__APP__/OpenInterface/setParam1">
								<input type="hidden" id="testallurl" value="__APP__/OpenInterface/testAllInterface">
								<table class="table table-striped table-bordered table-hover" id="sample_2">
									<thead>
										<tr>
											<th width="5%">接口编号</th>
											<th width="10%">接口名字</th>
											<th width="8%">接口地址</th>
											<th width="34%">输入参数</th>
											<th width="28%">返回结果</th>
											<th width="15%">操作</th>
										</tr>
									</thead>
									<tbody>
									<tr>
										<td><input name="subBoxIf"  type="checkbox" style="vertical-align:top;" value="1" checked/>&nbsp;1</td>
										<td>激活设备(Device)</td>
										<td><input type="text" id="interface_1" value="/v1/device/active"></td>
										<td><div id="param_1" style="text-align:right;">device_sn:<input type="text"  id="device_sn" value="{$data[1]['device_sn']}"><br/>
										device_key:<input type="text" id="device_key" value="{$data[1]['device_key']}"><br/>
										device_desc:<input type="text"  id="device_desc" value="{$data[1]['device_desc']}"></div></td>
										<td><div id="result_1" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('1')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('1')">测试</a></td>
									</tr>									
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="2" checked/>&nbsp;2</td>
										<td>查看设备信息(Device/App)</td>
										<td><input type="text" id="interface_2" value="/v1/device/get_info"></td>
										<td><div id="param_2" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[2]['access_id']}"></div></td>
										<td><div id="result_2" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('2')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('2')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="3" checked/>&nbsp;3</td>
										<td>更新设备状态(Device/App)</td>
										<td><input type="text" id="interface_3" value="/v1/device/update_status"></td>
										<td><div id="param_3" style="text-align:right" >device_sn:<input type="text"  id="device_sn" value="{$data[3]['device_sn']}" /><br/>
										device_status:<input type="text" id="device_status" value="{$data[3]['device_status']}" /></div></td>
										<td><div id="result_3" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('3')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('3')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="4" checked/>&nbsp;4</td>
										<td>获取设备状态(Device/App)</td>
										<td><input type="text" id="interface_4" value="/v1/device/get_status"></td>
										<td><div id="param_4" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[4]['access_id']}"></div></td>
										<td><div id="result_4" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('4')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('4')">测试</a></td>
									</tr>									
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="5" checked/>&nbsp;5</td>
										<td>绑定终端(Device)</td>
										<td><input type="text" id="interface_5" value="/v1/endpoint/bind"></td>
										<td><div id="param_5" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[5]['device_sn']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[5]['ep_id']}"><br/>
										ep_type:<input type="text" id="ep_type" value="{$data[5]['ep_type']}"><br/>
										ep_desc:<input type="text" id="ep_desc" value="{$data[5]['ep_desc']}"></div></td>
										<td><div id="result_5" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('5')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('5')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="6" checked/>&nbsp;6</td>
										<td>罗列绑定的终端(Device/App)</td>
										<td><input type="text" id="interface_6" value="/v1/device/list_ep"></td>
										<td><div id="param_6" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[6]['access_id']}"></div></td>
										<td><div id="result_6" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('6')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('6')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="7" checked/>&nbsp;7</td>
										<td>查看终端信息(Device/App)</td>
										<td><input type="text" id="interface_7" value="/v1/endpoint/get_info"></td>
										<td><div id="param_7" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[7]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[7]['ep_id']}"><br/></div></td>
										<td><div id="result_7" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('7')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('7')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="8" checked/>&nbsp;8</td>
										<td>更新终端状态(Device)</td>
										<td><input type="text" id="interface_8" value="/v1/endpoint/update_status"></td>
										<td><div id="param_8" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[8]['device_sn']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[8]['ep_id']}"><br/><br/>
										ep_status:<input type="text" id="ep_status" value="{$data[8]['ep_status']}"></div></td>
										<td><div id="result_8" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('8')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('8')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="9" checked/>&nbsp;9</td>
										<td>查看终端状态(Device/App)</td>
										<td><input type="text" id="interface_9" value="/v1/endpoint/get_status"></td>
										<td><div id="param_9" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[9]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[9]['ep_id']}"></div></td>
										<td><div id="result_9" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('9')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('9')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="10" checked/>&nbsp;10</td>
										<td>创建数据点(Device)</td>
										<td><input type="text" id="interface_10" value="/v1/datapoint/create"></td>
										<td><div id="param_10" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[10]['device_sn']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[10]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[10]['dp_id']}"><br/>
										dp_mode:<input type="text" id="dp_mode" value="{$data[10]['dp_mode']}"><br/>
										dp_type:<input type="text" id="dp_type" value="{$data[10]['dp_type']}"><br/>
										dp_schema:<input type="text" id="dp_schema" value="{$data[10]['dp_schema']}"><br/>
										dp_desc:<input type="text" id="dp_desc" value="{$data[10]['dp_desc']}"></div></td>
										<td><div id="result_10" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('10')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('10')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="11" checked/>&nbsp;11</td>
										<td>罗列终端所有数据点(Device/App)</td>
										<td><input type="text" id="interface_11" value="/v1/endpoint/list_dp"></td>
										<td><div id="param_11" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[11]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[11]['ep_id']}"></div></td>
										<td><div id="result_11" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('11')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('11')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="12" checked/>&nbsp;12</td>
										<td>查看数据点信息(Device/App)</td>
										<td><input type="text" id="interface_12" value="/v1/datapoint/get_info"></td>
										<td><div id="param_12" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[12]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[12]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[12]['dp_id']}"></div></td>
										<td><div id="result_12" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('12')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('12')">测试</a></td>
									</tr>
									
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="13" checked/>&nbsp;13</td>
										<td>上传传感器数据(Device/App)</td>
										<td><input type="text" id="interface_13" value="/v1/datapoint/publish"></td>
										<td><div id="param_13" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[13]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[13]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[13]['dp_id']}"></div></td>
										<td><div id="result_13" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('13')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('13')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="14" checked/>&nbsp;14</td>
										<td>查询数据(Device/App)</td>
										<td><input type="text" id="interface_14" value="/v1/datapoint/get_data"></td>
										<td><div id="param_14" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[14]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[14]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[14]['dp_id']}"><br/>
										dp_name:<input type="text" id="dp_name" value="{$data[14]['dp_name']}"></div></td>
										<td><div id="result_14" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('14')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('14')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="15" checked/>&nbsp;15</td>
										<td>查询最近一条数据(Device/App)</td>
										<td><input type="text" id="interface_15" value="/v1/datapoint/get_last"></td>
										<td><div id="param_15" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[15]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[15]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[15]['dp_id']}"></div></td>
										<td><div id="result_15" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('15')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('15')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="16" checked/>&nbsp;16</td>
										<td>查询时间段内的数据节点(Device/App)</td>
										<td><input type="text" id="interface_16" value="/v1/datapoint/list_data"></td>
										<td><div id="param_16" style="text-align:right">access_id:<input type="text"  id="access_id" value="{$data[16]['access_id']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[16]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[16]['dp_id']}"><br/>
										start:<input type="text" id="start" value="{$data[16]['start']}"><br/>
										end:<input type="text" id="end" value="{$data[16]['end']}"></div></td>
										<td><div id="result_16" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('16')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('16')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="17" checked/>&nbsp;17</td>
										<td>删除数据点(Device)</td>
										<td><input type="text" id="interface_17" value="/v1/datapoint/delete"></td>
										<td><div id="param_17" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[17]['device_sn']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[17]['ep_id']}"><br/>
										dp_id:<input type="text" id="dp_id" value="{$data[17]['dp_id']}"></div></td>
										<td><div id="result_17" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('17')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('17')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="18" checked/>&nbsp;18</td>
										<td>解绑定终端(Device)</td>
										<td><input type="text" id="interface_18" value="/v1/endpoint/unbind"></td>
										<td><div id="param_18" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[18]['device_sn']}"><br/>
										ep_id:<input type="text" id="ep_id" value="{$data[18]['ep_id']}"></div></td>
										<td><div id="result_18" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('18')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('18')">测试</a></td>
									</tr>
									<tr>
										<td><input name="subBoxIf" type="checkbox" style="vertical-align:top;" value="19" checked/>&nbsp;19</td>
										<td>重置设备(Device)</td>
										<td><input type="text" id="interface_19" value="/v1/device/reset"></td>
										<td><div id="param_19" style="text-align:right">device_sn:<input type="text"  id="device_sn" value="{$data[19]['device_sn']}"></div></td>
										<td><div id="result_19" style="width:150px;"></div></td>
										<td><a href="javascript:;;" onclick="setTimingParam('19')">保存参数</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:;;" onclick="testInterface('19')">测试</a></td>
									</tr>
									</tbody>
								</table>
								
								
							</div>
						</div>
						<!-- END VALIDATION STATES-->
					</div>
				</div>
				<!-- END PAGE CONTENT-->
			</div>
			<!-- END PAGE CONTAINER-->
		</div>
		<!-- END PAGE -->
	</div>
	<!-- END CONTAINER -->
	
	<include file="./Core/Tpl/metro/Public/footer.html" />

	<!-- BEGIN PAGE LEVEL PLUGINS -->
	<script type="text/javascript" src="__ROOT__/Static/metro/media/js/jquery.validate.min.js"></script>
	<!-- END PAGE LEVEL PLUGINS -->	
	<script src="__ROOT__/Static/metro/media/js/app.js"></script>
	<script src="__ROOT__/Static/metro/media/js/jquery.toggle.buttons.js"></script>
	<script src="__ROOT__/Static/metro/media/js/audit.js"></script>
	<script src="__ROOT__/Static/metro/media/js_ex/form-required-add-validation.js"></script> 
	<script type="text/javascript" charset="utf-8" src="__ROOT__/Static/metro/media/js/kindeditor.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.4.min.js"></script>
	<script>
		var editor;
		KindEditor.ready(function(K) {
			editor = K.create('#testallresult');
		});

		jQuery(document).ready(function() {   
		   // initiate layout and plugins
		   App.init();
		   FormValidation.init();		   
		});
		$('.info-toggle-button').toggleButtons();
	</script>  
	<script type="text/javascript">
		 $("#checkAll").click(function(){
			$('#checkNone').attr('checked', false);
			$('input[name="subBoxIf"]').attr('checked', this.checked);
		});
		$("#checkNone").click(function(){
			$('#checkAll').attr('checked', false);
			$('input[name="subBoxIf"]').attr('checked', false);
		});
	</script>
	<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>